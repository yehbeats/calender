/*! grunt_test - v1.0.0 - 2016-04-12 */!function(a,b){a.onload=function(){function a(){var a=(s-3)%10,b=(s-3)%12;return 0===a&&(a=10),0===b&&(b=12),x[a]+y[b]+"年【"+z[b]+"年】"}function c(a){var b,c=348;for(b=32768;b>8;b>>=1)c+=L[a-1900]&b?1:0;return c+d(a)}function d(a){return e(a)?65536&L[a-1900]?30:29:0}function e(a){return 15&L[a-1900]}function f(a,b){return L[a-1900]&65536>>b?30:29}function g(a){var b,g=new Date(1900,0,31),h=(a-g)/864e5;this.dayCyl=h+40,this.monCyl=14;for(var i=1900;2050>i&&h>0;i++)b=c(i),h-=b,this.monCyl+=12;0>h&&(h+=b,i--,this.monCyl-=12),this.year=i,this.yearCyl=i-1864;var j=e(i);for(this.isLeap=!1,i=1;13>i&&h>0;i++)j>0&&i==j+1&&0==this.isLeap?(--i,this.isLeap=!0,b=d(this.year)):b=f(this.year,i),1==this.isLeap&&i==j+1&&(this.isLeap=!1),h-=b,0==this.isLeap&&this.monCyl++;0==h&&j>0&&i==j+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--i,--this.monCyl)),0>h&&(h+=b,--i,--this.monCyl),this.month=i,this.day=h+1}function h(a,b,c){var d=new Date(a,--b,c),e=new g(d);if(e.day<=10)var f="初"+B[e.day];else f=e.day<20?"十"+B[e.day-10]:20===e.day?"二十":e.day<30?"廿"+B[e.day-20]:"三十";return f}function i(){var b=document.getElementsByClassName("calendar-tip")[0],c=s.toString(),d=parseInt(t)<10?"0"+t:t,e=parseInt(u)<10?"0"+u:u;if(0===v)var f="日";else f=B[v];var i="星期"+f;b.getElementsByTagName("span")[0].innerText=c+"-"+d+"-"+e+" "+i;var j=new Date(s,t-1,u),k=new g(j),l=A[k.month]+"月",m=h(s,t,u);b.getElementsByClassName("tip-lunar")[0].innerHTML="农历"+l+m+"<br/>"+a(),b.getElementsByClassName("tip-date")[0].innerText=u}function j(a,b){return(a%400==0||a%4==0&&a%100!=0)&&2===b?29:C[b]}function k(){var a=u%7,b=v+1,c=b+7-a;return c>7?c%7:c}function l(a,b,c){b-=1;var d=[0,21208,42467,63836,85337,107014,128867,150921,173149,195551,218072,240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,462224,483532,504758],e=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],f=new Date(31556925974.7*(a-1900)+6e4*d[2*b+1]+Date.UTC(1900,0,6,2,5)),g=f.getUTCDate(),h="";return g==c&&(h=e[2*b+1]),f=new Date(31556925974.7*(a-1900)+6e4*d[2*b]+Date.UTC(1900,0,6,2,5)),g=f.getUTCDate(),g==c&&(h=e[2*b]),h}function m(a,c,d,e){var f=h(c,d,e),g="",i="norest",j=e,k="",m="normal-day",n=l(c,d,e);return""!==n&&(f=n,m="solar-day"),D[d+"."+e]!==b&&(f=D[d+"."+e],m="world-day",g=f),2016===c&&-1!==E.indexOf(d+"."+e)&&(i="rest",m="holiday-day"),1===a?k="pre-month":2===a?(k="now-month",(e===u||c===w.getFullYear()&&d===w.getMonth()+1&&e===w.getDate())&&(k+=" today")):k="post-month","<td class='"+k+"'><div class='"+i+"'>休</div><b>"+j+"</b><span class='"+m+"' title='"+g+"'>"+f+"</span></td>"}function n(){var a,b=j(s,t),c=s,d=s,e=t-1,f=t+1;0===e&&(c=s-1,e=12),13===f&&(d=s+1,f=1),a=j(c,e);for(var g=k(),h="",i=0,l=1;g>l;l++){var n=a-g+l+1;h+=m(1,c,e,n),i++}for(var l=1;b>=l;l++)i%7==0&&(h+="</tr><tr>"),h+=m(2,s,t,l),i++;for(var l=0;15>l&&!(i>=42);l++){i%7==0&&(h+="</tr><tr>");var o=l+1;h+=m(3,d,f,o),i++}h+="</tr>",G.innerHTML=h}function o(){for(var a=1902;2050>a;a++)J.innerHTML+="<option value='"+a+"'>"+a+"年</option>";for(a=2;12>=a;a++)K.innerHTML+="<option value='"+a+"'>"+a+"月</option>"}function p(){var a=new Date;s=a.getFullYear(),t=a.getMonth()+1,u=a.getDate(),v=a.getDay(),n(),r(),q(),i()}function q(){J.options[s-1901].selected=!0,K.options[t-1].selected=!0}function r(){for(var a=G.getElementsByTagName("td"),b=0;b<a.length;b++)b%7!==5&&b%7!==6||(a[b].className+=" week-day")}var s,t,u,v,w=new Date,x=["","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],y=["","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],z=["","鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],A=["","正","二","三","四","五","六","七","八","九","十","十一","腊"],B=["","一","二","三","四","五","六","七","八","九","十"],C=[0,31,28,31,30,31,30,31,31,30,31,30,31],D={1.1:"元旦",2.14:"情人节",3.8:"妇女节",3.15:"国际消费者权益日",3.18:"爱肝节",3.23:"国际气象日",4.1:"愚人节",4.7:"世界卫生日",4.22:"世界地球日",5.1:"国际劳动节",5.8:"世界红十字日",5.12:"国际护士节",5.15:"国际家庭日",5.17:"国际电信日",6.1:"国际儿童节",6.5:"国际环保日",6.6:"国际爱眼日",6.26:"国际禁毒日",7.11:"世界人口日",9.27:"世界旅游日",9.28:"国际聋人日",10.9:"世界邮政日",10.16:"世界粮食日",11.17:"国际学生日",12.25:"圣诞节"},E=["1.1","1.2","1.3","2.7","2.8","2.9","2.10","2.11","2.12","2.13","4.2","4.3","4.4","4.30","5.1","5.2","6.9","6.10","6.11","9.15","9.16","9.17","10.1","10.2","10.3","10.4","10.5","10.6","10.7"],F={"元旦":"1:1","春节":"2:8","清明":"4:4","劳动":"5:1","端午":"6:9","中秋":"9:15","国庆":"10:1"},G=document.getElementById("table_calendar").getElementsByTagName("tbody")[0],H=document.getElementById("return"),I=document.getElementsByClassName("time-chooser")[0],J=(document.getElementsByClassName("clock")[0],document.getElementById("year-chooser")),K=document.getElementById("month-chooser"),L=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448];I.addEventListener("change",function(a){var c=a.target;if("year-chooser"===c.id)s=Number(c.value),v=new Date(s,t-1,u).getDay();else if("month-chooser"===c.id)t=Number(c.value),v=new Date(s,t-1,u).getDay();else if("holiday-chooser"===c.id){var d=F[c.value];if(d!==b){var e=d.split(":");s=2016,t=Number(e[0]),u=Number(e[1])}}n(),r(),i()},!1),I.addEventListener("click",function(a){var b=a.target;"year-pre"===b.id?(s--,1900===s&&(alert("请选择1900年以后的年份"),s=1901)):"year-post"===b.id?(s++,2050===s&&(alert("请选择2050年以前的年份"),s=2049)):"month-pre"===b.id?1===t?(s--,t=12):t--:"month-post"===b.id&&(12===t?(s++,t=1):t++),v=new Date(s,t-1,u).getDay(),n(),r(),q()},!1),H.addEventListener("click",p,!1),G.addEventListener("click",function(a){var b=a.target;"B"!==b.tagName&&"SPAN"!==b.tagName||(b=b.parentNode),u=Number(b.getElementsByTagName("b")[0].textContent),-1!=b.className.indexOf("pre-month")?1===t?(s--,t=12):t--:-1!=b.className.indexOf("post-month")&&(12===t?(s++,t=1):t++),v=new Date(s,t-1,u).getDay(),n(),r(),q(),i()},!1),o(),p()}}(window);